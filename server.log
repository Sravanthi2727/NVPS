Server running on port 3000
MongoDB Connected: ac-4ohsl69-shard-00-01.acne1i1.mongodb.net
User not authenticated
User not authenticated
User not authenticated
User not authenticated
Google OAuth profile received: {
  id: '105842901022653458219',
  displayName: 'Purva Solanki',
  emails: [ 'purvasolanki1802@gmail.com' ]
}
Looking for user with email: purvasolanki1802@gmail.com
Existing user found: purvasolanki1802@gmail.com
Returning user to passport: purvasolanki1802@gmail.com
Serializing user: purvasolanki1802@gmail.com
Google OAuth successful, user logged in: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
View cache set for: view:/
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Workshops route accessed
Database connected, fetching from database
Database results - upcoming: 5 past: 3
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/lino-cut/2.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/coffee-art/2.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/upcoming/modern-calligraphy.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/ganesha-making/1.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /css/gallery.css
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/upcoming/pottery.jpg
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Workshops route accessed
Database connected, fetching from database
Database results - upcoming: 5 past: 3
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/ganesha-making/1.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /css/gallery.css
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/upcoming/pottery.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/lino-cut/2.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/coffee-art/2.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/upcoming/modern-calligraphy.jpg
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
View cache set for: view:/
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
View cache hit for: view:/
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/menu_images/Cold%20Brew%20Tonic%20Ginger%20Ale%20Orange.webp
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/placeholder-food.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/menu_images/biscoff%20shake.webp
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/menu_images/iced-espresso.jpg
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Looking for artwork with ID: 6961ec4aba9516e8049576f7
Tried ObjectId lookup, found: true
Found artwork: City Lights ID: new ObjectId('6961ec4aba9516e8049576f7')
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
=== WISHLIST API CALLED ===
Request body: {
  itemId: '6961ec4aba9516e8049576f7',
  name: 'City Lights by Michael Chen',
  price: 320,
  image: '/assets/city_lights.jpg',
  type: 'art'
}
User authenticated: true
User object: {
  isOAuthUser: false,
  registered: [],
  _id: '69625ba5799c8f70e7a75556',
  googleId: '105842901022653458219',
  displayName: 'Purva Solanki',
  email: 'purvasolanki1802@gmail.com',
  photo: 'https://lh3.googleusercontent.com/a/ACg8ocLsHyqidX0IjZdhymU5PcBSNgZxWmB8DC9ZrAq4QY1ExPMRFMQ=s96-c',
  createdAt: '2026-01-10T14:01:09.628Z',
  __v: 0,
  cart: [],
  wishlist: [],
  updatedAt: '2026-01-10T16:18:22.471Z'
}
User before wishlist update: {
  name: undefined,
  email: 'purvasolanki1802@gmail.com',
  wishlistLength: 0
}
Wishlist item to add: {
  itemId: '6961ec4aba9516e8049576f7',
  name: 'City Lights by Michael Chen',
  price: 320,
  image: '/assets/city_lights.jpg',
  type: 'art'
}
Wishlist add error: ValidationError: User validation failed: name: Path `name` is required.
    at Document.invalidate (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/document.js:3377:32)
    at validatePath (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/document.js:3152:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async Promise.all (index 0)
    at async model.$__validate (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/document.js:3093:3)
    at async model.validate (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/document.js:2670:5)
    at async model.validateBeforeSave (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)
    at async Kareem.execPre (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/kareem/index.js:65:24)
    at async model.$__save (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/model.js:369:5)
    at async model.save (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/model.js:609:5) {
  errors: {
    name: ValidatorError: Path `name` is required.
        at SchemaString.doValidate (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/schemaType.js:1425:13)
        at validatePath (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/document.js:3144:24)
        at model.$__validate (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/document.js:3090:21)
        at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
        at async model.validate (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/document.js:2670:5)
        at async model.validateBeforeSave (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)
        at async Kareem.execPre (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/kareem/index.js:65:24)
        at async model.$__save (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/model.js:369:5)
        at async model.save (/Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/node_modules/mongoose/lib/model.js:609:5)
        at async /Users/vishalsolanki/Documents/Projects/NVPS2.0/NVPS/app.js:850:5 {
      properties: [Object],
      kind: 'required',
      path: 'name',
      value: undefined,
      reason: undefined,
      Symbol(mongoose#validatorError): true
    }
  },
  _message: 'User validation failed'
}
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Workshops route accessed
Database connected, fetching from database
Database results - upcoming: 5 past: 3
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
404 HIT: GET /css/gallery.css
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/coffee-art/2.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/upcoming/modern-calligraphy.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/lino-cut/2.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/upcoming/pottery.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/ganesha-making/1.jpg
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Workshops route accessed
Database connected, fetching from database
Database results - upcoming: 5 past: 3
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/upcoming/modern-calligraphy.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/coffee-art/2.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/lino-cut/2.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/ganesha-making/1.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /assets/workshops/upcoming/pottery.jpg
User found: purvasolanki1802@gmail.com
404 HIT: GET /css/gallery.css
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
View cache set for: view:/
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
Deserializing user: purvasolanki1802@gmail.com
Getting user data for: purvasolanki1802@gmail.com
User found: purvasolanki1802@gmail.com
